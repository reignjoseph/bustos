<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="static/css/admin/admin_navigation.css">
    <link rel="icon" href="static/images/favicon.ico" type="image/x-icon">
</head>
<body style="margin: 0; display: grid;grid-template-columns: min-content;">
<style>
.flash-messages {
    width: 100%;
    margin: 10px 0;
    padding: 10px;
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
    border-radius: 4px;
    text-align: center;
}

.flash-messages .flash-message.info {
    background-color: #d1ecf1;
    color: #0c5460;
    border-color: #bee5eb;
}

.flash-messages .flash-message.success {
    background-color: #d4edda;
    color: #155724;
    border-color: #c3e6cb;
}

.flash-messages .flash-message.error {
    background-color: #f8d7da;
    color: #721c24;
    border-color: #f5c6cb;
}    
</style>
<!-- Flash message block -->




    {% include 'admin/admin_navigation.html' %}
    {% include 'admin/admin_dashboard.html' %}
    {% include 'admin/admin_employers.html' %}
    {% include 'admin/admin_jobseekers.html' %}
    {% include 'admin/admin_jobs.html' %}
    {% include 'admin/admin_announcements.html' %}
    {% include 'admin/admin_notifications.html' %}
    {% include 'admin/admin_registration.html' %}
    {% include 'admin/admin_ratings.html' %}
    {% include 'admin/admin_reports.html' %}
</body>
<script>
    window.onload = function() {
        const announcementID = document.getElementById('announcementID').value; 
        fetchJobseekers();
        registrationFetchUsers();
        fetchRatings(rating_currentPage);
        fetchEmployers();
        fetchJobs();
        announcement_applyFilter();
        updateData();

        // Refresh data every 60 seconds
            
    }
</script>

<script>
// AJAX to check session status
// function checkSession() {
//     fetch('/admin', { method: 'GET' })
//         .then(response => {
//             if (response.redirected) {
//                 window.location.href = response.url;  // Redirect if necessary
//                 return;
//             }
//             return response.json();
//         })
//         .then(data => {
//             if (data && data.session_timeout) {
//                 // Show sign-in modal or redirect
//                 alert('Your session has timed out. Please sign in again.');
//                 window.location.href = '/signin'; // Redirect to sign-in page
//             }
//         })
//         .catch(error => console.error('Error checking session:', error));
// }    
</script>
</html>