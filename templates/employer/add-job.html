
<div class="add-job-container" style="display: none;">
    <h2>Post a Job Vacancy</h2>

    <form class="abc" action="/post_job" method="POST" enctype="multipart/form-data">
        <div class="container9 form-group">
            <label for="company">Company</label>
            <input type="text" class="form-control" id="company" name="company" required placeholder="Enter Company name">
        </div>
        <div class="container2 form-group">
            <label for="position">Position</label>
            <input type="text" class="form-control" id="position" name="position" required placeholder="Type of Position">
        </div>
        <div class="container1 form-group">
            <label for="title">Job Title</label>
            <input type="text" class="form-control" id="title" name="title" required placeholder="Job Title">
        </div>
        <div class="container4 form-group">
            <label for="image">Job Image</label>
            <input type="file" class="form-control-file" id="image" name="image" required>
            <div class="view-image"></div>
        </div>
        <div class="container3 form-group">
            <label for="description">Job Description</label>
            <textarea class="form-control" id="description" name="description" rows="4" required placeholder="Description" style="resize: none;"></textarea>
        </div>
        <!-- Modal for Google Maps picker -->

        <div class="container6 form-group">
            <label for="natureOfWork">Nature of Work</label>
            <input type="text" class="form-control" id="natureOfWork" name="natureOfWork" placeholder="Employment Type"required >
        </div>
        <div class="container7 form-group">
            <label for="salary">Salary</label>
            <input type="text" class="form-control" id="salary" name="salary" required placeholder="Enter salary amount">
        </div>
        <div class="container8 form-group"> 
            <div style=" padding: 5px; ">
                 <label for="jobStatus">Job Status</label>
                  <input type="text" class="form-control" id="jobStatus" name="jobStatus" value="Available" readonly=""> 
                </div>
                 <div> 
                    <label>Preferred Skills: <button type="button" id="add-skill-btn" style="border: 1px solid;outline: none;margin: 3px;">+</button> </label> 
                     <div id="skills-container"> </div>
                     </div> 
                     
                     <!--  --> </div>

<!--  -->
        <div class="container5 form-group">
            <label for="location">Location</label>
            <input type="text" class="form-control" id="location" name="location" required placeholder="Enter specific address">
        </div>
<!--  -->

        <div class="container10 form-group">
            <label for="closingDate">Closing Date and Time</label>
            <input type="text" class="form-control" id="closingDate" name="closingDate" required placeholder="Click to set">
        </div>
        <button type="submit" class="btn-postjob btn btn-primary">Post Job</button>
    </form>
</div>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!-- Flatpickr JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.6.13/flatpickr.min.js"></script>
<!-- Initialize Flatpickr -->
<script>
flatpickr("#closingDate", {
    enableTime: true,
    dateFormat: "Y-m-d H:i",
});
</script>
<script>
    const addSkillButton = document.getElementById('add-skill-btn');
    const skillsContainer = document.getElementById('skills-container');

    // Function to add a new input field for skill
    addSkillButton.addEventListener('click', function() {
        const newSkillDiv = document.createElement('div');
        newSkillDiv.classList.add('skill-input');
        
        // Create a new input element
        const newSkillInput = document.createElement('input');
        newSkillInput.type = 'text';
        newSkillInput.name = 'skills[]';
        newSkillInput.placeholder = 'Enter a skill';

        // Create the remove button
        const removeSkillButton = document.createElement('button');
        removeSkillButton.type = 'button';
        removeSkillButton.innerText = '-';
        removeSkillButton.classList.add('remove-skill-btn');

        // Append the input and remove button to the new div
        newSkillDiv.appendChild(newSkillInput);
        newSkillDiv.appendChild(removeSkillButton);
        
        // Append the new div to the container
        skillsContainer.appendChild(newSkillDiv);

        // Add event listener to remove the skill input
        removeSkillButton.addEventListener('click', function() {
            skillsContainer.removeChild(newSkillDiv);
        });
    });

    // Add event listener to remove the first skill input if clicked
    document.querySelectorAll('.remove-skill-btn').forEach(button => {
        button.addEventListener('click', function() {
            const skillDiv = this.parentElement;
            skillsContainer.removeChild(skillDiv);
        });
    });
</script>
<script>
document.getElementById('image').addEventListener('change', function(event) {
    var file = event.target.files[0]; // Get the selected file

    if (file) {
        var reader = new FileReader(); // Create a FileReader object

        reader.onload = function(e) {
            // Create an image element
            var img = document.createElement('img');
            img.src = e.target.result; // Set the image source to the file's data URL
            img.style.maxWidth = '100%'; // Optional: limit the width of the preview
            img.style.height = 'auto'; // Optional: maintain aspect ratio

            // Clear previous image previews
            var viewImageContainer = document.querySelector('.view-image');
            viewImageContainer.innerHTML = ''; // Clear any previous content
            viewImageContainer.appendChild(img); // Add the new image
        };

        reader.readAsDataURL(file); // Read the file as a data URL
    }
});
</script>